<?xml version="1.0" ?>
<Simulation verbosity="debug">
  <RunInfo>
    <WorkingDir>workingdir</WorkingDir>
    <Sequence>load,sample,print</Sequence>
  </RunInfo>

  <Steps>
    <IOStep name='load'>
      <Input class = 'Files' type = ''>pk</Input>
      <Output class = 'Models' type = 'ROM'>arma</Output>
    </IOStep>
    <MultiRun name='sample'>
      <Input class='DataObjects' type='PointSet'>placeholder</Input>
      <Sampler class='Samplers' type='MonteCarlo'>mc</Sampler>
      <Model class='Models' type='ROM'>arma</Model>
      <Output class='DataObjects' type='HistorySet'>samples</Output>
    </MultiRun>
    <PostProcess name='stats'>
      <Input class='DataObjects' type='HistorySet'>samples</Input>
      <Model class='Models' type='PostProcessor'>stats</Model>
      <Output class='DataObjects' type='HistorySet'>stats</Output>
      <Output class='OutStreams' type='Print'>stats</Output>
    </PostProcess>
    <IOStep name="print">
      <Input  class='DataObjects' type='HistorySet'>samples</Input>
      <Output class='OutStreams' type='Print'>samples</Output>
    </IOStep>
  </Steps>

  <Files>
    <Input name="pk">ercotNC_VARMA.pk</Input>
  </Files>

  <Samplers>
    <MonteCarlo name='mc'>
      <samplerInit>
        <limit>10</limit>
        <initialSeed>42</initialSeed>
      </samplerInit>
      <constant name='scaling'>1.0</constant>
    </MonteCarlo>
  </Samplers>

  <Models>
    <ROM name='arma' subType='pickledROM'/>
    <PostProcessor subType="BasicStatistics" name='stats'>
      <pivotParameter>Time</pivotParameter>
      <expectedValue prefix='mean'>Demand</expectedValue>
      <covariance prefix='cov'>
        <targets>Demand, Speed, GHI, Temperature</targets>
        <features>Demand, Speed, GHI, Temperature</features>
      </covariance>
      <pearson prefix='pear'>
        <targets>Demand, Speed, GHI, Temperature</targets>
        <features>Demand, Speed, GHI, Temperature</features>
      </pearson>
      <sensitivity prefix='sens'>
        <targets>Demand, Speed, GHI, Temperature</targets>
        <features>Demand, Speed, GHI, Temperature</features>
      </sensitivity>
    </PostProcessor>
  </Models>

  <DataObjects>
    <PointSet name="placeholder">
      <Input>scaling</Input>
      <Output>OutputPlaceHolder</Output>
    </PointSet>
    <HistorySet name="samples">
      <Input>scaling</Input>
      <Output>Demand, GHI,</Output>
      <options>
        <pivotParameter>Time</pivotParameter>
      </options>
    </HistorySet>
    <HistorySet name="stats">
      <Input>mean_Demand</Input>
      <Output>
        cov_Demand_Demand, cov_Demand_Speed, cov_Demand_GHI, cov_Demand_Temperature,
        cov_Speed_Demand, cov_Speed_Speed, cov_Speed_GHI, cov_Speed_Temperature,
        cov_GHI_Demand, cov_GHI_Speed, cov_GHI_GHI, cov_GHI_Temperature,
        cov_Temperature_Demand, cov_Temperature_Speed, cov_Temperature_GHI, cov_Temperature_Temperature,
        pear_Demand_Demand, pear_Demand_Speed, pear_Demand_GHI, pear_Demand_Temperature,
        pear_Speed_Demand, pear_Speed_Speed, pear_Speed_GHI, pear_Speed_Temperature,
        pear_GHI_Demand, pear_GHI_Speed, pear_GHI_GHI, pear_GHI_Temperature,
        pear_Temperature_Demand, pear_Temperature_Speed, pear_Temperature_GHI, pear_Temperature_Temperature,
        sens_Demand_Demand, sens_Demand_Speed, sens_Demand_GHI, sens_Demand_Temperature,
        sens_Speed_Demand, sens_Speed_Speed, sens_Speed_GHI, sens_Speed_Temperature,
        sens_GHI_Demand, sens_GHI_Speed, sens_GHI_GHI, sens_GHI_Temperature,
        sens_Temperature_Demand, sens_Temperature_Speed, sens_Temperature_GHI, sens_Temperature_Temperature
      </Output>
      <options>
        <pivotParameter>Time</pivotParameter>
      </options>
    </HistorySet>
  </DataObjects>

  <OutStreams>
    <Print name='samples'>
      <type>csv</type>
      <source>samples</source>
    </Print>
    <Print name='stats'>
      <type>csv</type>
      <source>stats</source>
    </Print>
  </OutStreams>
</Simulation>
